---
layout: post
title: "[스나이퍼팩토리] 한컴AI아카데미 3주차 - Dom"
date: 2025-02-09
categories: [한컴ai]
author: "yujinoh0103"
---

# DOM

array에 있는 element 찾을 때 for-loop 쓰는 거나 array.includes 쓰는거나 시간효율 차이는 없다

```JS

```

## 구조분해할당

## 스프레드 연산자

```JS
const original=[1,2,3];
const copy=...original;
console.log(original===copy); //false
```

## combine

## 객체 속성 오버라이드

## 레스트 연산자

여러 요소를 하나의 배열으로 모으는 데 이용
스프레드 연산자와 동일한 문법을 사용하지만 역할이 다름
주로 함수 매개변수나 구조분해할당..
AI 개요
자세히 알아보기
레스트 파라미터와 스프레드 연산자는 자바스크립트에서 사용되는 문법으로, 서로 반대의 개념을 가지고 있습니다.
레스트 파라미터
스프레드 연산자
사용처
함수의 파라미터로 사용
객체나 배열 등에 사용
기능
함수에 전달된 인수를 배열로 전달받는다
배열, 문자열 등의 요소를 개별 요소로 분리한다
레스트 파라미터와 스프레드 연산자는 모두 '...'을 사용하는 문법으로, 모양이 똑같아서 혼돈하기 쉽습니다. 하지만 사용되는 상황에 따라 구분해야 합니다.
레스트 파라미터 사용법
함수 매개변수의 가장 마지막에 작성되어야 합니다
함수의 파라미터로 오는 값들을 배열로 전달받을 수 있습니다
스프레드 연산자 사용법
주로 객체나 배열의 연결, 복사 등의 용도로 유용하게 쓰입니다
반복가능한 객체(Iterables)에서 요소들을 바로 Key-Value의 형태로 만들어서 사용하게 해줍니다

## SQL 쿼리 생성

reduce 함수는 배열을 순차적으로 도는 함수

## ? 연산자

🔹 ?. 옵셔널 체이닝 연산자
옵셔널 체이닝은 객체가 null 또는 undefined일 경우 오류 없이 안전하게 접근할 수 있도록 도와줍니다.

✅ 사용 예제:
js
복사
편집
const user = {
name: "Alice",
profile: {
age: 25
}
};

console.log(user.profile?.age); // 25 (정상 접근)
console.log(user.address?.city); // undefined (에러 없이 처리됨)
user.profile?.age → profile이 존재하므로 age 값을 반환 (25)
user.address?.city → address가 없으므로 에러 없이 undefined 반환
🔹 함수 호출에도 사용 가능
객체의 특정 메서드가 존재할 경우에만 실행하고 싶을 때 사용할 수 있습니다.

js
복사
편집
const obj = {
sayHello: () => "Hello!"
};

console.log(obj.sayHello?.()); // "Hello!"
console.log(obj.nonExistentMethod?.()); // undefined (에러 없음)
obj.sayHello?.() → sayHello 메서드가 존재하므로 정상 실행
obj.nonExistentMethod?.() → 존재하지 않지만, 에러 없이 undefined 반환
🔹 배열 요소 접근에도 사용 가능
배열의 요소에 안전하게 접근할 때도 사용할 수 있습니다.

js
복사
편집
const users = [{ name: "Alice" }, { name: "Bob" }];
console.log(users[0]?.name); // "Alice"
console.log(users[5]?.name); // undefined (에러 없이 처리됨)
🔹 옵셔널 체이닝이 없으면?
옵셔널 체이닝을 사용하지 않으면, undefined나 null 값을 가진 속성을 접근할 때 오류가 발생할 수 있습니다.

❌ 일반적인 접근 (오류 발생 가능)
js
복사
편집
console.log(user.address.city); // ❌ TypeError: Cannot read properties of undefined
✅ 옵셔널 체이닝 사용 (안전)
js
복사
편집
console.log(user.address?.city); // ✅ undefined (에러 없이 처리)
🔹 정리
?. 연산자는 객체, 배열, 함수가 undefined 또는 null일 경우 안전하게 접근할 수 있도록 도와줌
예기치 않은 TypeError를 방지
?.() 형태로 함수 호출 시 안전하게 실행 가능
🚀 즉, ? 연산자는 JavaScript에서 ?. 옵셔널 체이닝 연산자로 사용되며, undefined나 null이 발생할 가능성이 있는 속성 접근을 안전하게 처리하는 데 유용하다!

```JS
function sqlEscape(strings, ...values) {
  return strings.reduce((acc, str, i) => {
    return acc + str + (values[i] ? `'${values[i].replace(/'/g, "''")}'` : "");
  }, "");
}
```

sqlEscape 함수:

템플릿 리터럴을 활용하여 SQL 쿼리 내에서 안전하게 문자열을 삽입할 수 있도록 처리함.
strings: 템플릿 리터럴의 고정된 문자열 부분.
values: 템플릿 리터럴 내에서 변수로 삽입된 값.
reduce()를 사용하여 문자열을 결합하면서 SQL에서 안전한 문자열로 변환.
SQL 문자열 이스케이프 (replace(/'/g, "''"))

SQL에서 작은따옴표 '는 문자열을 감싸는 역할을 하기 때문에, 문자열 안에 작은따옴표가 포함된 경우 두 개('')로 변환해야 한다.
예를 들어, "O'Brien" → "O''Brien"
📌 실제 실행 예제

```JS
const table = "users";
const name = "O'Brien";
const query = sqlEscape`SELECT * FROM ${table} WHERE name = ${name}`;
console.log(query);
```

출력 결과:

sql
복사
편집
SELECT \* FROM 'users' WHERE name = 'O''Brien'
📌 변경된 부분

"O'Brien" → "O''Brien" (SQL Injection 방지)
🛡 보안적 의미 (SQL Injection 방지)
일반적으로 SQL 쿼리를 만들 때, 사용자 입력을 직접 문자열 결합하면 SQL Injection 공격에 취약할 수 있습니다.

예를 들어, 만약 단순한 문자열 결합을 하면:

js
복사
편집
const query = `SELECT * FROM users WHERE name = '${name}'`;
이렇게 하면 name 값에 ' OR 1=1 -- 같은 공격적인 입력이 들어오면 전체 데이터가 유출될 수도 있습니다.

하지만 sqlEscape를 사용하면 모든 작은따옴표가 이스케이프되어, SQL Injection을 예방할 수 있습니다.

🛠 한계점
**SQL 쿼리를 직접 문자열로 조작하는 것보다, SQL 라이브러리의 Prepared Statement(준비된 문)**를 사용하는 것이 더 안전함.
sqlEscape는 단순히 작은따옴표를 이스케이프하는 역할만 하므로, 다른 특수문자(예: ;, --)는 그대로 남아있음.
데이터베이스 드라이버에 따라 문자열을 감싸는 따옴표(' vs ")가 다를 수도 있음.
🎯 결론
이 코드는 JavaScript에서 SQL 쿼리의 문자열 값을 안전하게 삽입할 때 사용하는 템플릿 리터럴 함수입니다. SQL Injection을 방지하기 위한 기초적인 조치로 유용하지만, **근본적인 해결책은 Prepared Statements(준비된 SQL 문)**을 사용하는 것입니다.

🔍 reduce() 함수란?
JavaScript의 reduce() 함수는 배열을 하나의 값으로 줄이는(reduce) 함수입니다. 배열의 각 요소를 순회하면서 누적 값을 계산할 때 사용됩니다.

📌 기본 문법
js
복사
편집
array.reduce((누적값, 현재값, 인덱스, 원본배열) => {
return 계산된값;
}, 초기값);
누적값 (accumulator): 이전 반복에서 반환된 값이 저장됨.
현재값 (currentValue): 현재 배열 요소.
인덱스 (index): 현재 처리 중인 요소의 인덱스 (선택적).
원본배열 (array): reduce()를 호출한 배열 자체 (선택적).
초기값 (initialValue): reduce()가 시작할 때 accumulator에 할당될 초기값 (선택적, 없으면 배열의 첫 번째 요소가 기본값).
🛠 reduce() 기본 예제
✅ 1. 배열 요소의 합 구하기
js
복사
편집
const numbers = [1, 2, 3, 4, 5];

const sum = numbers.reduce((acc, cur) => acc + cur, 0);
console.log(sum); // 15
💡 acc는 누적값, cur는 현재 값이며, 0은 초기값입니다.

✅ 2. 배열 요소의 곱 구하기
js
복사
편집
const numbers = [1, 2, 3, 4];

const product = numbers.reduce((acc, cur) => acc \* cur, 1);
console.log(product); // 24
💡 초기값이 1이므로 곱셈이 올바르게 계산됩니다.

✅ 3. 배열에서 최댓값 찾기
js
복사
편집
const numbers = [5, 2, 9, 1, 7];

const max = numbers.reduce((acc, cur) => (acc > cur ? acc : cur), numbers[0]);
console.log(max); // 9
💡 reduce()를 사용하여 최댓값을 찾을 수 있습니다.

✅ 4. 배열에서 문자열 결합
js
복사
편집
const words = ["Hello", "World", "!"];

const sentence = words.reduce((acc, cur) => acc + " " + cur);
console.log(sentence); // "Hello World !"
💡 reduce()를 이용해 배열 요소를 하나의 문자열로 합칠 수 있습니다.

✅ 5. 객체 배열에서 특정 속성 합산
js
복사
편집
const cart = [
{ product: "Apple", price: 1000 },
{ product: "Banana", price: 500 },
{ product: "Orange", price: 1500 }
];

const totalPrice = cart.reduce((acc, cur) => acc + cur.price, 0);
console.log(totalPrice); // 3000
💡 reduce()를 사용해 객체 배열의 특정 값을 합산할 수 있습니다.
